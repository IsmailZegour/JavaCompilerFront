<div *ngIf="isBrowser">
  <div class="code-editor-wrapper">
    <!-- En-tête modernisé -->
    <div class="code-editor-header">
      <!-- Boutons de style macOS -->
      <div class="buttons">
        <span class="button red"></span>
        <span class="button yellow"></span>
        <span class="button green"></span>
      </div>
      
      <!-- Titre centré -->
      <div class="title">Online Compiler</div>

      <!-- Sélecteur de langage modernisé -->
      <div class="language-selector">
        <label for="language">Language : </label>
        <select id="language" [(ngModel)]="selectedLanguage" (change)="updateLanguage()">
          <option *ngFor="let lang of languages" [value]="lang.value">{{ lang.name }}</option>
        </select>
      </div>
    </div>

    <!-- Conteneur de Monaco Editor -->
    <div class="code-editor-container">
      <div #editorContainer class="editor-container"></div>
    </div>

    <!-- Bouton d'exécution -->
    <div class="actions">
      <button (click)="sendCode()" [disabled]="isLoading">
        <span *ngIf="!isLoading">Execute</span>
        <div *ngIf="isLoading" class="spinner-inline"></div>
      </button>
    </div>

    <!-- Résultats -->
    <div class="output-container">
      <div class="output-header">
        <h3>Output</h3>
        <span *ngIf="status === 'success'" class="status success">Success</span>
        <span *ngIf="status === 'failed'" class="status failed">Failed</span>
      </div>
      <pre class="output">{{ output }}</pre>
    </div>
  </div>
</div>
