<div *ngIf="isBrowser" class="page-container">
  <!-- Colonne gauche : Éditeur de code -->
  <div class="code-editor-wrapper">
    <div class="code-editor-header">
      <div class="language-selector">
        <label for="language">Language:</label>
        <select
          id="language"
          [(ngModel)]="selectedLanguage"
          (change)="updateLanguage()"
        >
          <option
            *ngFor="let lang of languages"
            [value]="lang.value"
          >{{ lang.name }}</option>
        </select>
      </div>
          <!-- Bouton d'envoi -->
    <div class="actions">
      <button (click)="sendCode()" [disabled]="isLoading">
        <span *ngIf="!isLoading">Execute</span>
        <div *ngIf="isLoading" class="spinner-inline"></div>
      </button>
    </div>
    </div>

    <div class="code-editor-container">
      <div #editorContainer class="editor-container"></div>
    </div>
  </div>

  <!-- Colonne droite : Inputs et Outputs -->
  <div class="io-container">
    <!-- Entrées utilisateur -->
    <div class="inputs-container">
      <h3>Inputs</h3>
      <textarea
        [(ngModel)]="userInput"
        rows="6"
        placeholder="Enter inputs here "
      ></textarea>
    </div>

    <!-- Résultat de l'exécution -->
    <div class="output-container">
      <div class="output-header">
        <h3>Output</h3>
        <span *ngIf="status === 'success'"class="status success">Success</span>
        <span *ngIf="status === 'failed'"class="status failed">Failed</span>
      </div>
      <div class="output">{{ output }}</div>
      <div class="performance">
        <p><strong>Execution Time:</strong> {{ executionTime }} ms</p>
        <p><strong>Memory Usage:</strong> {{ memoryUsage }} Ko</p>
      </div>
    </div>
  </div>
</div>
